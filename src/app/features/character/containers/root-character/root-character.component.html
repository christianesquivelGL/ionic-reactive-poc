<ion-header class="ion-no-border">
  <ion-toolbar color="tertiary">
    <ion-buttons slot="start">
      <ion-menu-button></ion-menu-button>
    </ion-buttons>
    <ion-title>
      {{ 'app.pages.characters.title' | translate }}
    </ion-title>
  </ion-toolbar>
</ion-header>

<ion-searchbar
  slot="fixed"
  color="medium"
  placeholder="{{ 'app.button.search' | translate }}"
  inputmode="text"
  [(ngModel)]="searchCriteria"
  (ionChange)="criteriaChangedManually()"
  (ionClear)="clearSearchBar()"
  (debounce)="(500)"
></ion-searchbar>

<ion-content>
  <div class="ion-padding standard-content-width mx-auto">
    <p>
      <ion-button
        data-bs-toggle="collapse"
        data-bs-target="#collapseExample"
        aria-expanded="false"
        aria-controls="collapseExample"
      >
        <ion-icon name="filter"></ion-icon>&nbsp; Edit Search Filters
      </ion-button>
    </p>
    <div class="collapse" id="collapseExample">
      <div class="card card-body">WIP</div>
    </div>

    <ion-refresher
      slot="fixed"
      (ionRefresh)="this.doRefresh($event)"
      pullFactor="0.8"
      pullMin="60"
      pullMax="120"
    >
      <ion-refresher-content></ion-refresher-content>
    </ion-refresher>

    <ion-spinner
      *ngIf="loading && this.searchCriteria.length > 0"
      class="centerSpinner"
      color="light"
    ></ion-spinner>

    <ion-item lines="none" *ngIf="this.noResults && !loading">
      <p>
        {{ 'app.label.noresults' | translate }} '{{ this.searchCriteria }}'.
      </p>
    </ion-item>

    <div *ngIf="list.length && !loading">
      <app-list-character
        [list]="list"
        [lastPage]="lastPage"
        (toggleAddToFavoritesEmitter)="toggleAddToFavorites($event)"
        (loadMoreEmitter)="loadMore()"
      ></app-list-character>
    </div>
  </div>
</ion-content>
